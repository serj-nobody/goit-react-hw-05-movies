{"version":3,"file":"static/js/42.5397a157.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx","shared/api/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieContainer\":\"MovieDetailsPage_movieContainer__eXMkA\",\"buttonContainer\":\"MovieDetailsPage_buttonContainer__hmJOS\",\"button\":\"MovieDetailsPage_button__mSHH6\",\"movieMain\":\"MovieDetailsPage_movieMain__pE5oS\",\"poster\":\"MovieDetailsPage_poster__rJd-l\",\"info\":\"MovieDetailsPage_info__wQ8PP\",\"title\":\"MovieDetailsPage_title__63V3V\",\"secondaryTitle\":\"MovieDetailsPage_secondaryTitle__lxF-V\",\"text\":\"MovieDetailsPage_text__vp0Sm\",\"additionalInfo\":\"MovieDetailsPage_additionalInfo__MR4+w\",\"addLinksList\":\"MovieDetailsPage_addLinksList__jLk1k\",\"addLinkItem\":\"MovieDetailsPage_addLinkItem__DKYPp\",\"active\":\"MovieDetailsPage_active__52Wu-\",\"addLink\":\"MovieDetailsPage_addLink__AqMRp\",\"loading\":\"MovieDetailsPage_loading__IVgYW\"};","import { useState, useEffect } from \"react\";\nimport { useParams, NavLink, useNavigate, Outlet, useLocation } from \"react-router-dom\";\n\nimport { getMovieDetails } from \"shared/api/api\";\n\nimport css from './MovieDetailsPage.module.css';\n\n\n\nconst getClassName = ({isActive}) => {\n  const className = isActive ? `${ css.addLink } ${ css.active }` : css.addLink;\n\n  return className;\n}\n\nconst MovieDetailsPage = () => {\n  const [movieDetails, setMovieDetails] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = location.state?.from;\n  const goBack = () => navigate(from);\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      setLoading(true);\n\n      try {\n        const result = await getMovieDetails(id);\n        setMovieDetails(result);\n      } catch (error) {\n        setError(error);\n      }\n      finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMovieDetails();\n  }, [id]);\n\n  const { poster_path, title, release_date, vote_average, overview, genres } = movieDetails;\n  const releaseYear = release_date?.slice(0, 4);\n  const votesPercentage = vote_average?.toFixed(1) * 10;\n  const genreList = genres?.map(genre => genre.name).join(', ');\n\n  return (\n    <div className={css.movieContainer}>\n      <div className={css.buttonContainer}>\n        <button className={css.button} onClick={goBack}>Go back</button>\n      </div>\n\n      {loading && <p className={css.loading}>...loading movie info</p>}\n      {error && <p>Oops! Loading movie info failed due to an error</p>}\n\n      <div className={css.movieMain}>\n        <img className={css.poster} src={poster_path ? `https://image.tmdb.org/t/p/w500${poster_path}` : 'https://qqcinema.com/wp-content/uploads/no-poster.png'} alt=\"\" />\n        <div className={css.info}>\n          <h2 className={css.title}>{title} ({releaseYear})</h2>\n          <p className={css.text}>User score: {votesPercentage}%</p>\n          <h3 className={css.secondaryTitle}>Overview:</h3>\n          <p className={css.text}>{overview}</p>\n          <h3 className={css.secondaryTitle}>Genres:</h3>\n          <p>{genreList}</p>\n        </div> \n      </div>\n      <div className={css.additionalInfo}>\n        <h3 className={css.secondaryTitle}>Additional info:</h3>\n        <ul className={css.addLinksList}>\n          <li className={css.addLinkItem}><NavLink state={{ from }} className={getClassName} to={`/movies/${id}/cast`}>Cast</NavLink></li>\n          <li className={css.addLinkItem}><NavLink state={{ from }} className={getClassName} to={`/movies/${id}/reviews`}>Reviews</NavLink></li>\n        </ul>\n      </div>\n      <Outlet />\n    </div>\n  );\n}\n\nexport default MovieDetailsPage;","import axios from \"axios\";\n\nconst API_KEY = '55f4870ea098f37a25ead3578c555cbf';\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: API_KEY,\n  },\n});\n\nexport const getTrendingMovies = async () => {\n  const { data } = await instance.get('/trending/movie/day', {\n    params: {\n      page: 1,\n    }\n  });\n  return data;\n};\n\nexport const getMovieDetails = async (id) => {\n  const { data } = await instance.get(`/movie/${id}`);\n  return data;\n};\n\nexport const getMovieCast = async (id) => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getMovieReviews = async (id) => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n\nexport const searchMovies = async (searchQuery) => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query: searchQuery,\n      page: 1,\n    }\n  });\n  return data;\n};"],"names":["getClassName","isActive","css","useState","movieDetails","setMovieDetails","loading","setLoading","error","setError","id","useParams","navigate","useNavigate","from","useLocation","state","useEffect","fetchMovieDetails","getMovieDetails","result","poster_path","title","release_date","vote_average","overview","genres","releaseYear","slice","votesPercentage","toFixed","genreList","map","genre","name","join","className","onClick","src","alt","to","instance","axios","baseURL","params","api_key","getTrendingMovies","get","page","data","getMovieCast","getMovieReviews","searchMovies","searchQuery","query"],"sourceRoot":""}